{% extends "base.html" %} {% block header%}
<section class="jumbotron text-center">
	<div class="container">
		<h1 class="jumbotron-heading">Add a new Instance</h1>
	</div>
</section>
{% endblock %} {% block main %}

<form class="needs-validation" action="/processinstance" novalidate method="POST">

	<div class="mb-3">
		<label for="name">Instance Name</label>
		<div class="input-group">
			<input type="text" class="form-control" name="name" id="name" placeholder="Instance Name" required>
			<div class="invalid-feedback" style="width: 100%;">
				Please provide a device name.
			</div>
		</div>
	</div>

	<div class="mb-3">
		<label for="desc">Instance Description</label>
		<div class="input-group">
			<input type="text" class="form-control" name="desc" id="desc" placeholder="Instance Description" required>
			<div class="invalid-feedback" style="width: 100%;">
				Please provide a description.
			</div>
		</div>
	</div>
	
	<div class="mb-3">
		<label for="itype">Instance Type (temp, humidity, switch )</label>
		<div class="input-group">
			<input type="text" class="form-control" name="itype" id="itype" placeholder="Device Type" required>
			<div class="invalid-feedback" style="width: 100%;">
				Please provide a Instance type.
			</div>
		</div>
	</div>
    
	<div class="mb-3">
		<label for="ipaddress">Parent Device </label>
		<div class="input-group">
                <select class="custom-select d-block w-100" name="device" id="device" required>
                    <option value="">Choose...</option>
                    {% for record in context.records %}
                    <option value="{{record.id}}">{{ record.name }}</option>
                    {% endfor %}
                </select>
            <div class="invalid-feedback" style="width: 100%;">
				Please select a device
			</div>
		</div>
	</div>

	<div class="mb-3">
		<label for="ipaddress">Direction </label>
		<div class="input-group">
                <select class="custom-select d-block w-100" name="direction" id="direction" required>
                    <option value="">Choose...</option>
					<option value="in">In</option>
					<option value="out">Out</option>
                </select>
            <div class="invalid-feedback" style="width: 100%;">
				Please select a direction
			</div>
		</div>
	</div>


    <div class="mb-3">
        <label for="url">URL </label>
        <div class="input-group">
            <input type="text" class="form-control" name="url" id="url" placeholder="URL to retrieve data" required>
            <div class="invalid-feedback" style="width: 100%;">
                Please add a URL 
            </div>
        </div>
    </div>

    

	<hr class="mb-4">
	<button class="btn btn-primary btn-lg btn-block" type="submit">Add Device</button>
</form>

{% endblock %}